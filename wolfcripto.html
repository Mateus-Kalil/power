<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self' 'unsafe-inline'; connect-src 'self' https://api.coingecko.com; img-src 'self' data: https:">
    <title>WolfCripto - An√°lise Inteligente de Criptomoedas</title>
    <link rel="icon" type="image/png" href="favicon2.png">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #00d4ff;
            --secondary-blue: #0099ff;
            --dark-blue: #001a33;
            --space-black: #000000;
            --neon-cyan: #00ffff;
            --warning-red: #ff0055;
            --success-green: #00ff88;
            --gold: #ffd700;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(135deg, #000000 0%, #001a33 50%, #000033 100%);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        .galaxy-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(50px, -50px) scale(1.1); }
        }

        header {
            background: rgba(0, 26, 51, 0.4);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 212, 255, 0.3);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-blue), var(--neon-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
            letter-spacing: 3px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: "üê∫";
            font-size: 2.5rem;
            filter: drop-shadow(0 0 10px var(--primary-blue));
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--neon-cyan);
            transition: width 0.3s;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, var(--primary-blue), var(--neon-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(0, 212, 255, 0.5);
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 700px;
            margin: 0 auto 3rem;
        }

        .live-ticker {
            background: rgba(0, 26, 51, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 3rem;
            flex-wrap: wrap;
            animation: slideUp 0.8s ease-out;
        }

        .ticker-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .ticker-symbol {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .ticker-price {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .ticker-change {
            font-size: 0.85rem;
            font-weight: 600;
        }

        .ticker-change.positive {
            color: var(--success-green);
        }

        .ticker-change.negative {
            color: var(--warning-red);
        }

        .search-section {
            background: rgba(0, 26, 51, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: 0 10px 50px rgba(0, 212, 255, 0.2);
            animation: slideUp 0.8s ease-out 0.2s backwards;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .search-box {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .crypto-input {
            flex: 1;
            padding: 1.2rem 1.5rem;
            font-size: 1.1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 12px;
            color: white;
            font-family: 'Exo 2', sans-serif;
            transition: all 0.3s;
        }

        .crypto-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
        }

        .analyze-btn {
            padding: 1.2rem 3rem;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border: none;
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .analyze-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .analyze-btn:hover::before {
            left: 100%;
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 212, 255, 0.6);
        }

        .analyze-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quick-options {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .quick-btn {
            padding: 0.7rem 1.5rem;
            background: rgba(0, 153, 255, 0.2);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 8px;
            color: var(--primary-blue);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: rgba(0, 153, 255, 0.4);
            transform: scale(1.05);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .loading.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .spinner {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            border: 4px solid rgba(0, 212, 255, 0.1);
            border-top: 4px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .results {
            display: none;
            animation: fadeIn 0.5s;
        }

        .results.active {
            display: block;
        }

        .result-card {
            background: rgba(0, 26, 51, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 50px rgba(0, 212, 255, 0.2);
            animation: slideUp 0.6s ease-out;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }

        .crypto-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--primary-blue);
        }

        .price-display {
            text-align: right;
        }

        .current-price {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-cyan);
        }

        .price-change {
            font-size: 1.2rem;
            margin-top: 0.5rem;
        }

        .price-change.positive {
            color: var(--success-green);
        }

        .price-change.negative {
            color: var(--warning-red);
        }

        .live-price-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            background: var(--success-green);
            border-radius: 50%;
            margin-left: 0.5rem;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .metric-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s;
        }

        .metric-box:hover {
            transform: translateY(-5px);
            border-color: var(--primary-blue);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.3);
        }

        .metric-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            color: var(--primary-blue);
        }

        .recommendation {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 5px solid var(--primary-blue);
        }

        .recommendation-badge {
            display: inline-block;
            padding: 0.7rem 2rem;
            border-radius: 30px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .recommendation-badge.buy {
            background: linear-gradient(135deg, #00ff88, #00cc66);
            color: #000;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .recommendation-badge.sell {
            background: linear-gradient(135deg, #ff0055, #cc0044);
            color: #fff;
            box-shadow: 0 0 20px rgba(255, 0, 85, 0.5);
        }

        .recommendation-badge.hold {
            background: linear-gradient(135deg, #ffaa00, #ff8800);
            color: #000;
            box-shadow: 0 0 20px rgba(255, 170, 0, 0.5);
        }

        .confidence-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--neon-cyan));
            transition: width 1s ease-out;
        }

        .analysis-section {
            margin-bottom: 2rem;
        }

        .analysis-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .analysis-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
        }

        .targets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .target-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .target-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
        }

        .target-value {
            font-size: 1.3rem;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-cyan);
        }

        .indicator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .indicator-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .indicator-name {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
        }

        .indicator-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .signal {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 5px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-left: 0.5rem;
        }

        .signal.bullish {
            background: rgba(0, 255, 136, 0.3);
            color: var(--success-green);
        }

        .signal.bearish {
            background: rgba(255, 0, 85, 0.3);
            color: var(--warning-red);
        }

        .signal.neutral {
            background: rgba(255, 170, 0, 0.3);
            color: #ffaa00;
        }

        .final-verdict {
            background: linear-gradient(135deg, rgba(0, 26, 51, 0.8), rgba(0, 13, 26, 0.9));
            backdrop-filter: blur(30px);
            border: 3px solid;
            border-radius: 25px;
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: 0 15px 60px rgba(0, 212, 255, 0.4);
            animation: slideUp 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }

        .final-verdict::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            to { transform: rotate(360deg); }
        }

        .final-verdict.buy {
            border-color: var(--success-green);
        }

        .final-verdict.sell {
            border-color: var(--warning-red);
        }

        .final-verdict.hold {
            border-color: var(--gold);
        }

        .verdict-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .verdict-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--primary-blue);
        }

        .verdict-action {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            margin: 1.5rem 0;
            text-transform: uppercase;
            letter-spacing: 5px;
            animation: glow 2s infinite;
            position: relative;
            z-index: 1;
        }

        .verdict-action.buy {
            color: var(--success-green);
            text-shadow: 0 0 30px rgba(0, 255, 136, 0.8), 0 0 60px rgba(0, 255, 136, 0.4);
        }

        .verdict-action.sell {
            color: var(--warning-red);
            text-shadow: 0 0 30px rgba(255, 0, 85, 0.8), 0 0 60px rgba(255, 0, 85, 0.4);
        }

        .verdict-action.hold {
            color: var(--gold);
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 60px rgba(255, 215, 0, 0.4);
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px currentColor, 0 0 40px currentColor; }
            50% { text-shadow: 0 0 40px currentColor, 0 0 80px currentColor, 0 0 120px currentColor; }
        }

        .verdict-confidence {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .verdict-summary {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 2rem;
            line-height: 1.8;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        .verdict-points {
            margin-top: 1.5rem;
        }

        .verdict-point {
            padding: 1rem;
            margin: 0.5rem 0;
            background: rgba(0, 212, 255, 0.1);
            border-left: 3px solid var(--primary-blue);
            border-radius: 5px;
        }

        footer {
            background: rgba(0, 26, 51, 0.4);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 212, 255, 0.3);
            padding: 2rem 0;
            text-align: center;
            margin-top: 5rem;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .verdict-action {
                font-size: 2.5rem;
            }

            .search-box {
                flex-direction: column;
            }

            .metrics-grid,
            .targets-grid {
                grid-template-columns: 1fr;
            }

            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-links {
                gap: 1rem;
            }

            .live-ticker {
                gap: 1.5rem;
            }
        }

        .update-timer {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="galaxy-background" id="galaxy"></div>

    <header>
        <div class="header-content">
            <div class="logo">WOLFCRIPTO</div>
            <nav class="nav-links">
                <a href="#home">In√≠cio</a>
                <a href="#analise">An√°lise</a>
                <a href="#sobre">Sobre</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="hero">
            <h1>AN√ÅLISE INTELIGENTE<br>DE CRIPTOMOEDAS</h1>
            <p>Sistema avan√ßado que analisa o mercado em tempo real, identifica padr√µes e fornece recomenda√ß√µes precisas para suas opera√ß√µes</p>
        </div>

        <div class="live-ticker" id="liveTicker">
            <div class="update-timer" style="width: 100%; text-align: center;">Carregando pre√ßos em tempo real...</div>
        </div>

        <div class="search-section">
            <div class="search-box">
                <input 
                    type="text" 
                    class="crypto-input" 
                    id="cryptoInput"
                    placeholder="Digite o ID da criptomoeda (ex: bitcoin, ethereum, solana, cardano...)"
                >
                <button class="analyze-btn" id="analyzeBtn">
                    ANALISAR AGORA
                </button>
            </div>
            <div class="quick-options">
                <button class="quick-btn" onclick="quickAnalyze('bitcoin')">Bitcoin (BTC)</button>
                <button class="quick-btn" onclick="quickAnalyze('ethereum')">Ethereum (ETH)</button>
                <button class="quick-btn" onclick="quickAnalyze('solana')">Solana (SOL)</button>
                <button class="quick-btn" onclick="quickAnalyze('cardano')">Cardano (ADA)</button>
                <button class="quick-btn" onclick="quickAnalyze('ripple')">XRP</button>
                <button class="quick-btn" onclick="quickAnalyze('binancecoin')">BNB</button>
                <button class="quick-btn" onclick="quickAnalyze('dogecoin')">DOGE</button>
                <button class="quick-btn" onclick="quickAnalyze('polkadot')">DOT</button>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <h2>Analisando mercado...</h2>
            <p>Buscando dados em tempo real e processando an√°lises t√©cnicas e fundamentais</p>
        </div>

        <div class="results" id="results"></div>
    </div>

    <footer>
        <p>¬© 2025 WolfCripto - An√°lise Inteligente de Criptomoedas</p>
    </footer>

    <script>
        let priceUpdateInterval;
        let currentCryptoId;

        function createGalaxy() {
            const galaxy = document.getElementById('galaxy');
            
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                galaxy.appendChild(star);
            }

            const colors = ['rgba(0, 212, 255, 0.3)', 'rgba(0, 153, 255, 0.3)', 'rgba(138, 43, 226, 0.3)'];
            for (let i = 0; i < 5; i++) {
                const nebula = document.createElement('div');
                nebula.className = 'nebula';
                nebula.style.width = Math.random() * 300 + 200 + 'px';
                nebula.style.height = nebula.style.width;
                nebula.style.left = Math.random() * 100 + '%';
                nebula.style.top = Math.random() * 100 + '%';
                nebula.style.background = colors[Math.floor(Math.random() * colors.length)];
                nebula.style.animationDelay = Math.random() * 20 + 's';
                galaxy.appendChild(nebula);
            }
        }

        createGalaxy();

        async function updateLivePrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,cardano,ripple,binancecoin&vs_currencies=usd&include_24hr_change=true');
                const data = await response.json();

                const tickerHTML = Object.entries(data).map(([id, info]) => {
                    const changeClass = info.usd_24h_change >= 0 ? 'positive' : 'negative';
                    const changeSymbol = info.usd_24h_change >= 0 ? '‚ñ≤' : '‚ñº';
                    const symbol = id === 'bitcoin' ? 'BTC' : 
                                  id === 'ethereum' ? 'ETH' : 
                                  id === 'solana' ? 'SOL' : 
                                  id === 'cardano' ? 'ADA' : 
                                  id === 'ripple' ? 'XRP' : 'BNB';

                    return `
                        <div class="ticker-item">
                            <div class="ticker-symbol">${symbol}</div>
                            <div class="ticker-price">$${formatNumber(info.usd)}</div>
                            <div class="ticker-change ${changeClass}">${changeSymbol} ${Math.abs(info.usd_24h_change).toFixed(2)}%</div>
                        </div>
                    `;
                }).join('');

                document.getElementById('liveTicker').innerHTML = tickerHTML + '<div class="update-timer" style="width: 100%; text-align: center; margin-top: 1rem;">Atualiza√ß√£o autom√°tica a cada 30 segundos</div>';
            } catch (error) {
                console.error('Erro ao atualizar pre√ßos:', error);
            }
        }

        updateLivePrices();
        setInterval(updateLivePrices, 30000);

        function quickAnalyze(crypto) {
            document.getElementById('cryptoInput').value = crypto;
            analyzeCrypto();
        }

        async function analyzeCrypto() {
            const cryptoId = document.getElementById('cryptoInput').value.trim().toLowerCase();
            
            if (!cryptoId) {
                alert('Por favor, digite o ID de uma criptomoeda');
                return;
            }

            document.getElementById('loading').classList.add('active');
            document.getElementById('results').classList.remove('active');
            document.getElementById('analyzeBtn').disabled = true;

            if (priceUpdateInterval) {
                clearInterval(priceUpdateInterval);
            }

            try {
                const cryptoData = await fetchCryptoData(cryptoId);
                const analysis = await performAdvancedAnalysis(cryptoData);
                displayResults(analysis);
                
                currentCryptoId = cryptoId;
                startPriceUpdates(cryptoId);
            } catch (error) {
                console.error('Erro:', error);
                document.getElementById('results').innerHTML = `
                    <div class="result-card">
                        <h2 style="color: var(--warning-red);">Erro na An√°lise</h2>
                        <p>${error.message || 'N√£o foi poss√≠vel encontrar dados para esta criptomoeda.'}</p>
                        <p style="font-size: 0.9rem; opacity: 0.7; margin-top: 1rem;">
                            Sugest√£o: Use IDs como bitcoin, ethereum, solana, cardano, ripple, binancecoin, dogecoin, polkadot
                        </p>
                        <p style="font-size: 0.85rem; opacity: 0.6; margin-top: 0.5rem;">
                            Dica: Para encontrar o ID correto de uma cripto, busque em <a href="https://www.coingecko.com/" target="_blank" style="color: var(--primary-blue);">CoinGecko.com</a>
                        </p>
                    </div>
                `;
                document.getElementById('results').classList.add('active');
            } finally {
                document.getElementById('loading').classList.remove('active');
                document.getElementById('analyzeBtn').disabled = false;
            }
        }

        async function fetchCryptoData(cryptoId) {
            try {
                const response = await fetch(
                    `https://api.coingecko.com/api/v3/coins/${cryptoId}?localization=false&tickers=false&community_data=true&developer_data=false&sparkline=true`
                );
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('Criptomoeda n√£o encontrada. Verifique o ID e tente novamente.');
                    }
                    throw new Error('Erro ao buscar dados. Tente novamente em alguns segundos.');
                }
                
                const data = await response.json();
                return data;
                
            } catch (error) {
                if (error.message.includes('Failed to fetch')) {
                    throw new Error('Erro de conex√£o. Verifique sua internet e tente novamente.');
                }
                throw error;
            }
        }

        async function startPriceUpdates(cryptoId) {
            priceUpdateInterval = setInterval(async () => {
                try {
                    const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${cryptoId}&vs_currencies=usd&include_24hr_change=true`);
                    const data = await response.json();
                    
                    if (data[cryptoId]) {
                        const priceElement = document.querySelector('.current-price');
                        const changeElement = document.querySelector('.price-change');
                        
                        if (priceElement) {
                            priceElement.textContent = '$' + formatNumber(data[cryptoId].usd);
                        }
                        
                        if (changeElement && data[cryptoId].usd_24h_change !== undefined) {
                            const change = data[cryptoId].usd_24h_change;
                            const changeClass = change >= 0 ? 'positive' : 'negative';
                            const changeSymbol = change >= 0 ? '‚ñ≤' : '‚ñº';
                            changeElement.className = `price-change ${changeClass}`;
                            changeElement.innerHTML = `${changeSymbol} ${Math.abs(change).toFixed(2)}% (24h) <span class="live-price-indicator"></span>`;
                        }
                    }
                } catch (error) {
                    console.error('Erro ao atualizar pre√ßo:', error);
                }
            }, 15000);
        }

        function calculateRSI(prices, period = 14) {
            if (prices.length < period) return 50;
            
            let gains = 0;
            let losses = 0;
            
            for (let i = prices.length - period; i < prices.length; i++) {
                const change = prices[i] - prices[i - 1];
                if (change > 0) gains += change;
                else losses += Math.abs(change);
            }
            
            const avgGain = gains / period;
            const avgLoss = losses / period;
            
            if (avgLoss === 0) return 100;
            const rs = avgGain / avgLoss;
            const rsi = 100 - (100 / (1 + rs));
            
            return rsi;
        }

        function calculateMACD(prices) {
            const ema12 = calculateEMA(prices, 12);
            const ema26 = calculateEMA(prices, 26);
            const macd = ema12 - ema26;
            const signal = calculateEMA([macd], 9);
            
            return {
                value: macd,
                signal: signal,
                histogram: macd - signal,
                trend: macd > signal ? 'bullish' : 'bearish'
            };
        }

        function calculateEMA(prices, period) {
            if (prices.length === 0) return 0;
            const k = 2 / (period + 1);
            let ema = prices[0];
            
            for (let i = 1; i < prices.length; i++) {
                ema = (prices[i] * k) + (ema * (1 - k));
            }
            
            return ema;
        }

        function calculateSMA(prices, period) {
            if (prices.length < period) return prices[prices.length - 1];
            const slice = prices.slice(-period);
            return slice.reduce((a, b) => a + b, 0) / period;
        }

        function identifyTrend(prices) {
            const sma20 = calculateSMA(prices, 20);
            const sma50 = calculateSMA(prices, 50);
            const currentPrice = prices[prices.length - 1];
            
            if (currentPrice > sma20 && sma20 > sma50) return 'alta';
            if (currentPrice < sma20 && sma20 < sma50) return 'baixa';
            return 'lateral';
        }

        function calculateVolatility(prices) {
            const returns = [];
            for (let i = 1; i < prices.length; i++) {
                returns.push((prices[i] - prices[i-1]) / prices[i-1]);
            }
            
            const mean = returns.reduce((a, b) => a + b, 0) / returns.length;
            const variance = returns.reduce((sum, ret) => sum + Math.pow(ret - mean, 2), 0) / returns.length;
            return Math.sqrt(variance) * 100;
        }

        async function performAdvancedAnalysis(data) {
            const prices = data.market_data.sparkline_7d.price;
            const currentPrice = data.market_data.current_price.usd;
            const priceChange24h = data.market_data.price_change_percentage_24h;
            const priceChange7d = data.market_data.price_change_percentage_7d || 0;
            const priceChange30d = data.market_data.price_change_percentage_30d || 0;
            
            const rsi = calculateRSI(prices);
            const macd = calculateMACD(prices);
            const sma20 = calculateSMA(prices, 20);
            const sma50 = calculateSMA(prices, 50);
            const ema9 = calculateEMA(prices, 9);
            const ema21 = calculateEMA(prices, 21);
            
            const trendShort = identifyTrend(prices.slice(-20));
            const trendMedium = identifyTrend(prices.slice(-50));
            const trendLong = identifyTrend(prices);
            
            const volatility = calculateVolatility(prices);
            
            const support1 = Math.min(...prices.slice(-30)) * 0.98;
            const support2 = Math.min(...prices.slice(-60)) * 0.97;
            const support3 = data.market_data.low_24h.usd * 0.95;
            
            const resistance1 = Math.max(...prices.slice(-30)) * 1.02;
            const resistance2 = Math.max(...prices.slice(-60)) * 1.03;
            const resistance3 = data.market_data.high_24h.usd * 1.05;
            
            let signalScore = 0;
            let signals = [];
            
            if (rsi < 30) {
                signalScore += 20;
                signals.push('RSI indica sobrevenda - oportunidade de compra');
            } else if (rsi > 70) {
                signalScore -= 20;
                signals.push('RSI indica sobrecompra - poss√≠vel corre√ß√£o');
            } else if (rsi >= 40 && rsi <= 60) {
                signalScore += 5;
                signals.push('RSI em zona neutra - mercado equilibrado');
            }
            
            if (macd.trend === 'bullish') {
                signalScore += 15;
                signals.push('MACD mostra momentum de alta');
            } else {
                signalScore -= 15;
                signals.push('MACD mostra momentum de baixa');
            }
            
            if (currentPrice > sma20 && currentPrice > sma50) {
                signalScore += 15;
                signals.push('Pre√ßo acima das m√©dias m√≥veis - tend√™ncia de alta');
            } else if (currentPrice < sma20 && currentPrice < sma50) {
                signalScore -= 15;
                signals.push('Pre√ßo abaixo das m√©dias m√≥veis - tend√™ncia de baixa');
            }
            
            if (ema9 > ema21) {
                signalScore += 10;
                signals.push('EMAs mostram cruzamento altista');
            } else {
                signalScore -= 10;
                signals.push('EMAs mostram cruzamento baixista');
            }
            
            if (priceChange24h > 5) {
                signalScore += 10;
                signals.push('Forte valoriza√ß√£o nas √∫ltimas 24h');
            } else if (priceChange24h < -5) {
                signalScore -= 10;
                signals.push('Forte desvaloriza√ß√£o nas √∫ltimas 24h');
            }

            if (priceChange7d > 10) {
                signalScore += 8;
                signals.push('Tend√™ncia de alta consolidada na √∫ltima semana');
            } else if (priceChange7d < -10) {
                signalScore -= 8;
                signals.push('Tend√™ncia de baixa na √∫ltima semana');
            }

            if (priceChange30d > 20) {
                signalScore += 12;
                signals.push('Forte performance positiva no √∫ltimo m√™s');
            } else if (priceChange30d < -20) {
                signalScore -= 12;
                signals.push('Performance negativa significativa no √∫ltimo m√™s');
            }
            
            const volumeScore = data.market_data.total_volume.usd / data.market_data.market_cap.usd;
            if (volumeScore > 0.1) {
                signalScore += 10;
                signals.push('Volume de negocia√ß√£o elevado');
            }
            
            let recommendation = 'SEGURAR';
            let recommendationClass = 'hold';
            let confidence = 50;
            let timeframe = 'm√©dio prazo';
            
            if (signalScore >= 40) {
                recommendation = 'COMPRAR';
                recommendationClass = 'buy';
                confidence = Math.min(85 + (signalScore - 40) / 2, 95);
                timeframe = 'curto a m√©dio prazo';
            } else if (signalScore >= 20) {
                recommendation = 'COMPRAR';
                recommendationClass = 'buy';
                confidence = 70 + (signalScore - 20) / 2;
                timeframe = 'm√©dio prazo';
            } else if (signalScore <= -40) {
                recommendation = 'VENDER';
                recommendationClass = 'sell';
                confidence = Math.min(85 + Math.abs(signalScore + 40) / 2, 95);
                timeframe = 'curto prazo';
            } else if (signalScore <= -20) {
                recommendation = 'VENDER';
                recommendationClass = 'sell';
                confidence = 70 + Math.abs(signalScore + 20) / 2;
                timeframe = 'm√©dio prazo';
            } else {
                confidence = 60 - Math.abs(signalScore);
            }
            
            const targetMultiplier = signalScore > 0 ? 1 : -1;
            const shortTermTarget = {
                min: currentPrice * (1 + (0.03 * targetMultiplier)),
                max: currentPrice * (1 + (0.08 * targetMultiplier)),
                days: '1-7 dias'
            };
            
            const mediumTermTarget = {
                min: currentPrice * (1 + (0.08 * targetMultiplier)),
                max: currentPrice * (1 + (0.20 * targetMultiplier)),
                days: '7-30 dias'
            };
            
            const longTermTarget = {
                min: currentPrice * (1 + (0.20 * targetMultiplier)),
                max: currentPrice * (1 + (0.50 * targetMultiplier)),
                days: '1-6 meses'
            };
            
            const stopLoss = signalScore > 0 ? currentPrice * 0.92 : currentPrice * 1.08;
            const tp1 = signalScore > 0 ? currentPrice * 1.05 : currentPrice * 0.95;
            const tp2 = signalScore > 0 ? currentPrice * 1.12 : currentPrice * 0.88;
            const tp3 = signalScore > 0 ? currentPrice * 1.20 : currentPrice * 0.80;
            
            const riskReward = Math.abs((tp1 - currentPrice) / (stopLoss - currentPrice)).toFixed(2);
            
            const sentimentScore = (data.sentiment_votes_up_percentage || 50);
            const communityScore = Math.min((data.community_score || 0) / 1000, 100);
            
            let detailedAnalysis = `AN√ÅLISE T√âCNICA COMPLETA\n\n`;
            detailedAnalysis += `Tend√™ncia Identificada: O ativo apresenta tend√™ncia de ${trendShort} no curto prazo, ${trendMedium} no m√©dio prazo e ${trendLong} no longo prazo. `;
            detailedAnalysis += `O RSI atual de ${rsi.toFixed(2)} ${rsi < 30 ? 'indica forte sobrevenda, sugerindo poss√≠vel revers√£o de alta' : rsi > 70 ? 'indica sobrecompra, alertando para poss√≠vel corre√ß√£o' : 'est√° em zona neutra, indicando equil√≠brio entre compradores e vendedores'}. `;
            
            detailedAnalysis += `\n\nINDICADORES T√âCNICOS\n\n`;
            detailedAnalysis += `O MACD est√° ${macd.trend === 'bullish' ? 'em cruzamento altista, sugerindo momentum de compra' : 'em cruzamento baixista, indicando press√£o vendedora'}. `;
            detailedAnalysis += `A m√©dia m√≥vel de 20 per√≠odos est√° em $${sma20.toFixed(2)} e a de 50 per√≠odos em $${sma50.toFixed(2)}. `;
            detailedAnalysis += `O pre√ßo atual ${currentPrice > sma20 ? 'est√° acima' : 'est√° abaixo'} da SMA20, ${currentPrice > sma50 ? 'e acima' : 'mas abaixo'} da SMA50. `;
            
            detailedAnalysis += `\n\nVOLATILIDADE E RISCO\n\n`;
            detailedAnalysis += `A volatilidade calculada √© de ${volatility.toFixed(2)}%, ${volatility > 5 ? 'indicando alta volatilidade e maior risco' : 'indicando volatilidade moderada'}. `;
            detailedAnalysis += `Os n√≠veis de suporte identificados est√£o em $${support1.toFixed(2)}, $${support2.toFixed(2)} e $${support3.toFixed(2)}. `;
            detailedAnalysis += `As resist√™ncias principais est√£o em $${resistance1.toFixed(2)}, $${resistance2.toFixed(2)} e $${resistance3.toFixed(2)}. `;
            
            detailedAnalysis += `\n\nAN√ÅLISE FUNDAMENTAL\n\n`;
            detailedAnalysis += `O sentimento da comunidade est√° ${sentimentScore > 60 ? 'muito positivo' : sentimentScore > 40 ? 'neutro' : 'negativo'} com ${sentimentScore.toFixed(1)}% de votos positivos. `;
            detailedAnalysis += `A capitaliza√ß√£o de mercado atual √© de $${formatLargeNumber(data.market_data.market_cap.usd)} com volume de 24h de $${formatLargeNumber(data.market_data.total_volume.usd)}. `;
            detailedAnalysis += `O ativo est√° ranqueado em #${data.market_cap_rank} no mercado global de criptomoedas. `;
            
            detailedAnalysis += `\n\nPERFORMANCE TEMPORAL\n\n`;
            detailedAnalysis += `Nas √∫ltimas 24 horas, o ativo ${priceChange24h > 0 ? 'valorizou' : 'desvalorizou'} ${Math.abs(priceChange24h).toFixed(2)}%. `;
            detailedAnalysis += `Na √∫ltima semana, a varia√ß√£o foi de ${priceChange7d > 0 ? '+' : ''}${priceChange7d.toFixed(2)}%, `;
            detailedAnalysis += `enquanto no √∫ltimo m√™s o ativo apresentou ${priceChange30d > 0 ? 'ganhos' : 'perdas'} de ${Math.abs(priceChange30d).toFixed(2)}%. `;
            
            detailedAnalysis += `\n\nCONCLUS√ÉO E RECOMENDA√á√ÉO\n\n`;
            detailedAnalysis += signals.join('. ') + '. ';
            detailedAnalysis += `Baseado em todos os indicadores analisados, a recomenda√ß√£o √© ${recommendation} com ${confidence.toFixed(0)}% de confian√ßa para ${timeframe}. `;
            detailedAnalysis += `${signalScore > 0 ? 'Os indicadores t√©cnicos e fundamentais convergem para um cen√°rio positivo' : signalScore < 0 ? 'Os indicadores alertam para cautela e poss√≠vel movimento descendente' : 'O mercado apresenta sinais mistos, sugerindo aguardar por melhor ponto de entrada'}. `;

            let verdictSummary = '';
            let verdictPoints = [];

            if (recommendation === 'COMPRAR') {
                verdictSummary = `Com base na an√°lise completa de ${data.name}, identificamos um cen√°rio favor√°vel para opera√ß√£o de compra. Os indicadores t√©cnicos mostram ${trendShort === 'alta' ? 'forte momentum altista' : 'potencial de revers√£o'}, `;
                verdictSummary += `com o RSI em ${rsi.toFixed(0)} ${rsi < 40 ? '(zona de sobrevenda favor√°vel)' : '(n√≠veis equilibrados)'} e MACD ${macd.trend === 'bullish' ? 'confirmando tend√™ncia de alta' : 'mostrando sinais de recupera√ß√£o'}. `;
                verdictSummary += `O sentimento da comunidade est√° ${sentimentScore > 60 ? 'extremamente positivo' : 'favor√°vel'} com ${sentimentScore.toFixed(0)}% de aprova√ß√£o.`;
                
                verdictPoints = [
                    `Pre√ßo atual $${formatNumber(currentPrice)} ${currentPrice > sma20 ? 'acima da m√©dia m√≥vel de 20 dias' : 'pr√≥ximo ao suporte'}`,
                    `Performance recente: ${priceChange24h > 0 ? '+' : ''}${priceChange24h.toFixed(2)}% (24h), ${priceChange7d > 0 ? '+' : ''}${priceChange7d.toFixed(2)}% (7d)`,
                    `RSI ${rsi < 30 ? 'em sobrevenda' : rsi < 50 ? 'em zona de acumula√ß√£o' : 'em zona positiva'} indicando potencial de alta`,
                    `Volume elevado ${volumeScore > 0.1 ? 'confirmando interesse do mercado' : 'com liquidez adequada'}`,
                    `Alvo de curto prazo: $${formatNumber(shortTermTarget.max)} (${((shortTermTarget.max/currentPrice - 1) * 100).toFixed(1)}% de potencial)`
                ];
            } else if (recommendation === 'VENDER') {
                verdictSummary = `A an√°lise detalhada de ${data.name} revela sinais t√©cnicos de cautela e poss√≠vel corre√ß√£o. Com RSI em ${rsi.toFixed(0)} ${rsi > 70 ? '(zona de sobrecompra cr√≠tica)' : '(n√≠veis preocupantes)'} `;
                verdictSummary += `e MACD ${macd.trend === 'bearish' ? 'confirmando press√£o vendedora' : 'sinalizando enfraquecimento'}, `;
                verdictSummary += `recomendamos realizar lucros ou reduzir exposi√ß√£o. O pre√ßo de $${formatNumber(currentPrice)} apresenta resist√™ncia t√©cnica importante.`;
                
                verdictPoints = [
                    `Pre√ßo em $${formatNumber(currentPrice)} ${currentPrice < sma20 ? 'abaixo das m√©dias m√≥veis cr√≠ticas' : 'pr√≥ximo √† resist√™ncia'}`,
                    `Varia√ß√£o negativa: ${priceChange24h.toFixed(2)}% (24h), ${priceChange7d.toFixed(2)}% (7d)`,
                    `RSI ${rsi > 70 ? 'em sobrecompra extrema' : 'indicando press√£o vendedora'} - sinal de alerta`,
                    `Volatilidade de ${volatility.toFixed(2)}% aumentando riscos de quedas bruscas`,
                    `Stop loss sugerido em $${formatNumber(stopLoss)} para prote√ß√£o de capital`
                ];
            } else {
                verdictSummary = `Para ${data.name}, a an√°lise atual sugere uma postura de observa√ß√£o. O ativo apresenta sinais mistos com RSI em ${rsi.toFixed(0)} (zona neutra) `;
                verdictSummary += `e tend√™ncias conflitantes entre curto (${trendShort}) e m√©dio prazo (${trendMedium}). `;
                verdictSummary += `O pre√ßo de $${formatNumber(currentPrice)} est√° em fase de consolida√ß√£o. Aguarde sinais mais claros antes de posicionar.`;
                
                verdictPoints = [
                    `Pre√ßo em consolida√ß√£o: $${formatNumber(currentPrice)} entre suporte ($${formatNumber(support1)}) e resist√™ncia ($${formatNumber(resistance1)})`,
                    `Indicadores t√©cnicos neutros: RSI ${rsi.toFixed(0)}, aguardando defini√ß√£o de tend√™ncia`,
                    `Volatilidade de ${volatility.toFixed(2)}% sugere cautela nas opera√ß√µes`,
                    `Aguarde rompimento de $${formatNumber(resistance1)} para entrada ou queda abaixo de $${formatNumber(support1)} para sa√≠da`,
                    `Sentimento do mercado em ${sentimentScore.toFixed(0)}% positivo - monitorar evolu√ß√£o`
                ];
            }

            return {
                crypto_name: data.name,
                symbol: data.symbol.toUpperCase(),
                current_price: currentPrice,
                price_change_24h: priceChange24h,
                price_change_7d: priceChange7d,
                price_change_30d: priceChange30d,
                volume_24h: data.market_data.total_volume.usd,
                market_cap: data.market_data.market_cap.usd,
                market_dominance: data.market_data.market_cap_percentage?.usd || 0,
                ranking: data.market_cap_rank,
                ath: data.market_data.ath.usd,
                ath_change: data.market_data.ath_change_percentage.usd,
                atl: data.market_data.atl.usd,
                atl_change: data.market_data.atl_change_percentage.usd,
                
                technical_analysis: {
                    trend_short: trendShort,
                    trend_medium: trendMedium,
                    trend_long: trendLong,
                    rsi: rsi.toFixed(2),
                    rsi_signal: rsi < 30 ? 'bullish' : rsi > 70 ? 'bearish' : 'neutral',
                    macd: macd.trend,
                    sma20: sma20,
                    sma50: sma50,
                    ema9: ema9,
                    ema21: ema21,
                    volatility: volatility.toFixed(2),
                    support_levels: [support1, support2, support3],
                    resistance_levels: [resistance1, resistance2, resistance3],
                    key_patterns: signals.slice(0, 3)
                },
                
                fundamental_analysis: {
                    sentiment: sentimentScore > 60 ? 'positivo' : sentimentScore > 40 ? 'neutro' : 'negativo',
                    sentiment_score: sentimentScore,
                    community_score: communityScore,
                    recent_news: [
                        `Sentimento da comunidade: ${sentimentScore.toFixed(1)}% positivo`,
                        `Volume 24h representa ${(volumeScore * 100).toFixed(2)}% do market cap`,
                        `Pre√ßo ${priceChange24h > 0 ? 'subiu' : 'caiu'} ${Math.abs(priceChange24h).toFixed(2)}% nas √∫ltimas 24h`,
                        `Varia√ß√£o semanal de ${priceChange7d > 0 ? '+' : ''}${priceChange7d.toFixed(2)}%`,
                        `Performance mensal: ${priceChange30d > 0 ? '+' : ''}${priceChange30d.toFixed(2)}%`
                    ]
                },
                
                recommendation: {
                    action: recommendation,
                    class: recommendationClass,
                    confidence: confidence.toFixed(0),
                    timeframe: timeframe,
                    reasoning: signals.join('. ') + '.'
                },
                
                verdict: {
                    action: recommendation,
                    class: recommendationClass,
                    confidence: confidence.toFixed(0),
                    summary: verdictSummary,
                    points: verdictPoints
                },
                
                targets: {
                    short_term: shortTermTarget,
                    medium_term: mediumTermTarget,
                    long_term: longTermTarget
                },
                
                risk_management: {
                    stop_loss: stopLoss,
                    take_profit_1: tp1,
                    take_profit_2: tp2,
                    take_profit_3: tp3,
                    risk_reward_ratio: `1:${riskReward}`,
                    position_size: confidence > 75 ? '3-5% do capital' : confidence > 60 ? '2-3% do capital' : '1-2% do capital'
                },
                
                detailed_analysis: detailedAnalysis
            };
        }

        function displayResults(data) {
            const resultsDiv = document.getElementById('results');
            
            const priceChange = data.price_change_24h || 0;
            const changeClass = priceChange >= 0 ? 'positive' : 'negative';
            const changeSymbol = priceChange >= 0 ? '‚ñ≤' : '‚ñº';

            resultsDiv.innerHTML = `
                <div class="final-verdict ${data.verdict.class}">
                    <div class="verdict-header">
                        <div class="verdict-title">‚ö° DECIS√ÉO FINAL ‚ö°</div>
                        <div class="verdict-action ${data.verdict.class}">${data.verdict.action}</div>
                        <div class="verdict-confidence">Confian√ßa: ${data.verdict.confidence}%</div>
                    </div>
                    <div class="verdict-summary">
                        <p style="font-size: 1.1rem; margin-bottom: 1.5rem; text-align: center;">
                            ${data.verdict.summary}
                        </p>
                        <div class="verdict-points">
                            ${data.verdict.points.map(point => `<div class="verdict-point">‚Ä¢ ${point}</div>`).join('')}
                        </div>
                    </div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <div>
                            <h2 class="crypto-title">${data.crypto_name}</h2>
                            <p style="opacity: 0.7;">${data.symbol}</p>
                        </div>
                        <div class="price-display">
                            <div class="current-price">$${formatNumber(data.current_price)}<span class="live-price-indicator"></span></div>
                            <div class="price-change ${changeClass}">
                                ${changeSymbol} ${Math.abs(priceChange).toFixed(2)}% (24h)
                            </div>
                        </div>
                    </div>

                    <div class="metrics-grid">
                        <div class="metric-box">
                            <div class="metric-label">Volume 24h</div>
                            <div class="metric-value">$${formatLargeNumber(data.volume_24h)}</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Market Cap</div>
                            <div class="metric-value">$${formatLargeNumber(data.market_cap)}</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Ranking</div>
                            <div class="metric-value">#${data.ranking}</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">ATH</div>
                            <div class="metric-value">$${formatNumber(data.ath)}</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Var. 7 dias</div>
                            <div class="metric-value ${data.price_change_7d >= 0 ? 'positive' : 'negative'}" style="color: ${data.price_change_7d >= 0 ? 'var(--success-green)' : 'var(--warning-red)'}">
                                ${data.price_change_7d > 0 ? '+' : ''}${data.price_change_7d.toFixed(2)}%
                            </div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Var. 30 dias</div>
                            <div class="metric-value ${data.price_change_30d >= 0 ? 'positive' : 'negative'}" style="color: ${data.price_change_30d >= 0 ? 'var(--success-green)' : 'var(--warning-red)'}">
                                ${data.price_change_30d > 0 ? '+' : ''}${data.price_change_30d.toFixed(2)}%
                            </div>
                        </div>
                    </div>

                    <div class="recommendation">
                        <div class="recommendation-badge ${data.recommendation.class}">
                            ${data.recommendation.action}
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">
                            <strong>Timeframe:</strong> ${data.recommendation.timeframe} | 
                            <strong>Confian√ßa:</strong> ${data.recommendation.confidence}%
                        </p>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${data.recommendation.confidence}%"></div>
                        </div>
                        <p style="margin-top: 1.5rem; line-height: 1.8;">
                            ${data.recommendation.reasoning}
                        </p>
                    </div>
                </div>

                <div class="result-card">
                    <h2 class="analysis-title">üìä AN√ÅLISE T√âCNICA</h2>
                    <div class="analysis-content">
                        <p><strong>Tend√™ncia:</strong></p>
                        <p>Curto Prazo: ${data.technical_analysis.trend_short.toUpperCase()}</p>
                        <p>M√©dio Prazo: ${data.technical_analysis.trend_medium.toUpperCase()}</p>
                        <p>Longo Prazo: ${data.technical_analysis.trend_long.toUpperCase()}</p>
                        
                        <div class="indicator-grid">
                            <div class="indicator-item">
                                <div class="indicator-name">RSI (14)</div>
                                <div class="indicator-value">${data.technical_analysis.rsi}</div>
                                <span class="signal ${data.technical_analysis.rsi_signal}">${data.technical_analysis.rsi_signal}</span>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-name">MACD</div>
                                <div class="indicator-value">${data.technical_analysis.macd}</div>
                                <span class="signal ${data.technical_analysis.macd}">${data.technical_analysis.macd}</span>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-name">SMA 20</div>
                                <div class="indicator-value">$${formatNumber(data.technical_analysis.sma20)}</div>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-name">SMA 50</div>
                                <div class="indicator-value">$${formatNumber(data.technical_analysis.sma50)}</div>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-name">EMA 9</div>
                                <div class="indicator-value">$${formatNumber(data.technical_analysis.ema9)}</div>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-name">Volatilidade</div>
                                <div class="indicator-value">${data.technical_analysis.volatility}%</div>
                            </div>
                        </div>
                        
                        <p style="margin-top: 1.5rem;"><strong>Suportes:</strong> 
                        $${formatNumber(data.technical_analysis.support_levels[0])} | 
                        $${formatNumber(data.technical_analysis.support_levels[1])} | 
                        $${formatNumber(data.technical_analysis.support_levels[2])}</p>
                        
                        <p><strong>Resist√™ncias:</strong> 
                        $${formatNumber(data.technical_analysis.resistance_levels[0])} | 
                        $${formatNumber(data.technical_analysis.resistance_levels[1])} | 
                        $${formatNumber(data.technical_analysis.resistance_levels[2])}</p>
                    </div>
                </div>

                <div class="result-card">
                    <h2 class="analysis-title">üåç AN√ÅLISE FUNDAMENTAL</h2>
                    <div class="analysis-content">
                        <p><strong>Sentimento:</strong> ${data.fundamental_analysis.sentiment.toUpperCase()} (${data.fundamental_analysis.sentiment_score.toFixed(1)}% positivo)</p>
                        <p><strong>Score da Comunidade:</strong> ${data.fundamental_analysis.community_score.toFixed(0)}/100</p>
                        
                        <div style="margin-top: 1.5rem;">
                            <strong>Dados Recentes:</strong>
                            <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                                ${data.fundamental_analysis.recent_news.map(news => `<li>${news}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="result-card">
                    <h2 class="analysis-title">üéØ ALVOS E GEST√ÉO DE RISCO</h2>
                    
                    <div class="targets-grid" style="margin-bottom: 2rem;">
                        <div class="target-box">
                            <div class="target-label">Curto Prazo (${data.targets.short_term.days})</div>
                            <div class="target-value">$${formatNumber(data.targets.short_term.min)} - $${formatNumber(data.targets.short_term.max)}</div>
                        </div>
                        <div class="target-box">
                            <div class="target-label">M√©dio Prazo (${data.targets.medium_term.days})</div>
                            <div class="target-value">$${formatNumber(data.targets.medium_term.min)} - $${formatNumber(data.targets.medium_term.max)}</div>
                        </div>
                        <div class="target-box">
                            <div class="target-label">Longo Prazo (${data.targets.long_term.days})</div>
                            <div class="target-value">$${formatNumber(data.targets.long_term.min)} - $${formatNumber(data.targets.long_term.max)}</div>
                        </div>
                    </div>
                    
                    <div class="analysis-content">
                        <p><strong>Stop Loss:</strong> $${formatNumber(data.risk_management.stop_loss)}</p>
                        <p><strong>Take Profit 1:</strong> $${formatNumber(data.risk_management.take_profit_1)}</p>
                        <p><strong>Take Profit 2:</strong> $${formatNumber(data.risk_management.take_profit_2)}</p>
                        <p><strong>Take Profit 3:</strong> $${formatNumber(data.risk_management.take_profit_3)}</p>
                        <p><strong>Risk/Reward:</strong> ${data.risk_management.risk_reward_ratio}</p>
                        <p><strong>Tamanho de Posi√ß√£o Sugerido:</strong> ${data.risk_management.position_size}</p>
                    </div>
                </div>

                <div class="result-card">
                    <h2 class="analysis-title">üìù AN√ÅLISE COMPLETA DETALHADA</h2>
                    <div class="analysis-content">
                        ${data.detailed_analysis.split('\n\n').map(p => p.trim() ? `<p style="margin-bottom: 1rem;">${p}</p>` : '').join('')}
                    </div>
                </div>
            `;
            
            resultsDiv.classList.add('active');
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function formatNumber(num) {
            if (!num) return '0';
            return parseFloat(num).toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        function formatLargeNumber(num) {
            if (!num) return '0';
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return num.toFixed(2);
        }

        document.getElementById('analyzeBtn').addEventListener('click', analyzeCrypto);
        document.getElementById('cryptoInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') analyzeCrypto();
        });

        window.addEventListener('beforeunload', () => {
            if (priceUpdateInterval) {
                clearInterval(priceUpdateInterval);
            }
        });
    </script>
</body>
</html>
